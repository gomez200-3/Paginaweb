<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Nuestro Especial</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="style.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
</head>
<body class="emerald-bg">
  <div class="container">
    <h1 class="romantic-title"><span class="emoji">💖</span>Nuestro Especial<span class="emoji">💖</span></h1>
    <form id="form-especial">
      <input type="text" id="nuevo-especial" placeholder="Agrega algo especial..." required>
      <button class="btn-romantic-round" type="submit">Añadir Especial</button>
    </form>
    <div class="especial-lista" id="especial-lista"></div>
    <button class="btn-regresar" id="volver-menu-especial">(*REGRESAR*)</button>
  </div>
  <!-- Mini reproductor aquí -->
  <div id="mini-player-modal" style="display:none;">
    <button class="close-player" title="Cerrar">✖️</button>
    <img id="mini-player-cover" src="cover1.jpg" alt="Portada">
    <div class="player-title" id="mini-player-title">Canción romántica</div>
    <div class="player-controls">
      <button id="btn-prev" title="Anterior">🚀</button>
      <button id="btn-play" title="Play/Pause">🛸</button>
      <button id="btn-next" title="Siguiente">🪐</button>
    </div>
    <audio id="mini-player-audio"></audio>
  </div>
  <script>
    function renderEspeciales() {
      const especiales = JSON.parse(localStorage.getItem('especiales') || '[]');
      const div = document.getElementById('especial-lista');
      div.innerHTML = '';
      if(especiales.length === 0) {
        div.innerHTML = '<span class="mensaje-romantico">No hay especiales aún.</span>';
        return;
      }
      especiales.forEach((esp, idx) => {
        const item = document.createElement('div');
        item.className = 'especial-item';
        item.innerHTML = `<span>${esp}</span><button class="btn-borrar" title="Borrar">🗑</button>`;
        item.querySelector('.btn-borrar').onclick = function() {
          if(confirm('¿Borrar este especial?')) {
            let especiales = JSON.parse(localStorage.getItem('especiales') || '[]');
            especiales.splice(idx,1);
            localStorage.setItem('especiales', JSON.stringify(especiales));
            renderEspeciales();
          }
        };
        div.appendChild(item);
      });
    }
    document.getElementById('form-especial').onsubmit = function(e){
      e.preventDefault();
      const val = document.getElementById('nuevo-especial').value.trim();
      if(val){
        let especiales = JSON.parse(localStorage.getItem('especiales') || '[]');
        especiales.push(val);
        localStorage.setItem('especiales', JSON.stringify(especiales));
        renderEspeciales();
        document.getElementById('nuevo-especial').value = '';
      }
    };
    document.getElementById('volver-menu-especial').onclick = function() { window.location = "aventuras.html"; };
    window.addEventListener('DOMContentLoaded', renderEspeciales);
    // Mini reproductor: pega aquí tu JS global
  </script>
</body>
</html>
